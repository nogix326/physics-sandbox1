<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>2D Physics Sandbox with Gravity & Resize</title>
  <style>
    body { margin: 0; overflow: hidden; font-family: sans-serif; }
    #controls {
      position: absolute; top: 10px; left: 10px; z-index: 10;
      background: rgba(255,255,255,0.85); padding: 10px;
      border-radius: 5px; font-size: 14px;
    }
    button, input { margin: 3px 0; width: 100%; }
    label { display: block; margin-top: 5px; }
  </style>
</head>
<body>
<div id="controls">
  <button id="spawnBox">Spawn Box</button>
  <button id="spawnBall">Spawn Ball</button>

  <label for="sizeSlider">Object Size: <span id="sizeValue">60</span> px</label>
  <input type="range" id="sizeSlider" min="20" max="150" value="60">

  <label for="gravitySlider">Gravity: <span id="gravityValue">1</span></label>
  <input type="range" id="gravitySlider" min="-1" max="2" step="0.1" value="1">
</div>

<canvas id="world"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
<script>
const { Engine, Render, Runner, World, Bodies, Mouse, MouseConstraint } = Matter;

// Engine setup
const engine = Engine.create();
const world = engine.world;

// Canvas setup
const canvas = document.getElementById('world');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const render = Render.create({
  canvas: canvas,
  engine: engine,
  options: {
    width: window.innerWidth,
    height: window.innerHeight,
    wireframes: false,
    background: '#f0f0f0'
  }
});
Render.run(render);

const runner = Runner.create();
Runner.run(runner, engine);

// Boundaries
const boundaries = [
  Bodies.rectangle(window.innerWidth/2, window.innerHeight+25, window.innerWidth, 50, { isStatic: true }),
  Bodies.rectangle(window.innerWidth/2, -25, window.innerWidth, 50, { isStatic: true }),
  Bodies.rectangle(-25, window.innerHeight/2, 50, window.innerHeight, { isStatic: true }),
  Bodies.rectangle(window.innerWidth+25, window.innerHeight/2, 50, window.innerHeight, { isStatic: true })
];
World.add(world, boundaries);

// Mouse control
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
  mouse: mouse,
  constraint: { stiffness: 0.2, render: { visible: false } }
});
World.add(world, mouseConstraint);
render.mouse = mouse;

// Controls
let objectSize = 60;

// Size slider
const sizeSlider = document.getElementById('sizeSlider');
const sizeValue = document.getElementById('sizeValue');
sizeSlider.addEventListener('input', () => {
  objectSize = parseInt(sizeSlider.value);
  sizeValue.textContent = objectSize;
});

// Gravity slider
const gravitySlider = document.getElementById('gravitySlider');
const gravityValue = document.getElementById('gravityValue');
gravitySlider.addEventListener('input', () => {
  const g = parseFloat(gravitySlider.value);
  engine.world.gravity.y = g;
  gravityValue.textContent = g;
});

// Spawn objects
document.getElementById('spawnBox').addEventListener('click', () => {
  const box = Bodies.rectangle(Math.random()*window.innerWidth, 50, objectSize, objectSize);
  World.add(world, box);
});

document.getElementById('spawnBall').addEventListener('click', () => {
  const ball = Bodies.circle(Math.random()*window.innerWidth, 50, objectSize/2);
  World.add(world, ball);
});
</script>
</body>
</html>
